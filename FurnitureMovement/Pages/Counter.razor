@page "/counter"
@using FurnitureMovement.Data
@using FurnitureMovement.Services
@inject IOrderService OrderService
<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<p role="status">Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

@code {
    private int currentCount = 5;

    private async void IncrementCount()
    {
        string number = currentCount.ToString();

        var newOrder = new Order
        {
            Number = number, //Номер
            Drawning = "Vlad",//Схемы
            Furniture = "Shulzhenko", //Оснастка
            AdmissionDate = DateTime.Now, //Поступление
            Quantity = 1  //Количество
        };
        
        await OrderService.CreateOrder(newOrder);
        
        currentCount++;

    }
}
